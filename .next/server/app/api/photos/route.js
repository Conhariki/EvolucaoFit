/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/photos/route";
exports.ids = ["app/api/photos/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fphotos%2Froute&page=%2Fapi%2Fphotos%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fphotos%2Froute.ts&appDir=C%3A%5CUsers%5Cfelconha%5CDesktop%5CAca%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cfelconha%5CDesktop%5CAca&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fphotos%2Froute&page=%2Fapi%2Fphotos%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fphotos%2Froute.ts&appDir=C%3A%5CUsers%5Cfelconha%5CDesktop%5CAca%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cfelconha%5CDesktop%5CAca&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_felconha_Desktop_Aca_src_app_api_photos_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/photos/route.ts */ \"(rsc)/./src/app/api/photos/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/photos/route\",\n        pathname: \"/api/photos\",\n        filename: \"route\",\n        bundlePath: \"app/api/photos/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\felconha\\\\Desktop\\\\Aca\\\\src\\\\app\\\\api\\\\photos\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_felconha_Desktop_Aca_src_app_api_photos_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZwaG90b3MlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnBob3RvcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnBob3RvcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNmZWxjb25oYSU1Q0Rlc2t0b3AlNUNBY2ElNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q2ZlbGNvbmhhJTVDRGVza3RvcCU1Q0FjYSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDa0I7QUFDL0Y7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXGZlbGNvbmhhXFxcXERlc2t0b3BcXFxcQWNhXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHBob3Rvc1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcGhvdG9zL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcGhvdG9zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9waG90b3Mvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxmZWxjb25oYVxcXFxEZXNrdG9wXFxcXEFjYVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxwaG90b3NcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fphotos%2Froute&page=%2Fapi%2Fphotos%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fphotos%2Froute.ts&appDir=C%3A%5CUsers%5Cfelconha%5CDesktop%5CAca%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cfelconha%5CDesktop%5CAca&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/auth/[...nextauth]/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/auth/[...nextauth]/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler),\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n\n\n\n\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            name: 'Credentials',\n            credentials: {\n                email: {\n                    label: 'Email',\n                    type: 'email'\n                },\n                password: {\n                    label: 'Senha',\n                    type: 'password'\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    throw new Error('Email e senha são obrigatórios');\n                }\n                const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.user.findUnique({\n                    where: {\n                        email: credentials.email\n                    }\n                });\n                if (!user) {\n                    throw new Error('Usuário não encontrado');\n                }\n                const isPasswordValid = await (0,bcryptjs__WEBPACK_IMPORTED_MODULE_2__.compare)(credentials.password, user.password);\n                if (!isPasswordValid) {\n                    throw new Error('Senha incorreta');\n                }\n                return {\n                    id: user.id,\n                    name: user.name,\n                    email: user.email,\n                    role: user.role\n                };\n            }\n        })\n    ],\n    pages: {\n        signIn: '/login'\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.role = user.role;\n                token.id = user.id;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token && session.user) {\n                session.user.role = token.role;\n                session.user.id = token.id;\n            }\n            return session;\n        }\n    },\n    session: {\n        strategy: 'jwt',\n        maxAge: 30 * 24 * 60 * 60\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\nconst handler = next_auth__WEBPACK_IMPORTED_MODULE_0___default()(authOptions);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQ2lDO0FBQ2lDO0FBQy9CO0FBQ0c7QUFFL0IsTUFBTUksY0FBK0I7SUFDMUNDLFdBQVc7UUFDVEosMkVBQW1CQSxDQUFDO1lBQ2xCSyxNQUFNO1lBQ05DLGFBQWE7Z0JBQ1hDLE9BQU87b0JBQUVDLE9BQU87b0JBQVNDLE1BQU07Z0JBQVE7Z0JBQ3ZDQyxVQUFVO29CQUFFRixPQUFPO29CQUFTQyxNQUFNO2dCQUFXO1lBQy9DO1lBQ0EsTUFBTUUsV0FBVUwsV0FBVztnQkFDekIsSUFBSSxDQUFDQSxhQUFhQyxTQUFTLENBQUNELGFBQWFJLFVBQVU7b0JBQ2pELE1BQU0sSUFBSUUsTUFBTTtnQkFDbEI7Z0JBRUEsTUFBTUMsT0FBTyxNQUFNWCwrQ0FBTUEsQ0FBQ1csSUFBSSxDQUFDQyxVQUFVLENBQUM7b0JBQ3hDQyxPQUFPO3dCQUFFUixPQUFPRCxZQUFZQyxLQUFLO29CQUFDO2dCQUNwQztnQkFFQSxJQUFJLENBQUNNLE1BQU07b0JBQ1QsTUFBTSxJQUFJRCxNQUFNO2dCQUNsQjtnQkFFQSxNQUFNSSxrQkFBa0IsTUFBTWYsaURBQU9BLENBQUNLLFlBQVlJLFFBQVEsRUFBRUcsS0FBS0gsUUFBUTtnQkFFekUsSUFBSSxDQUFDTSxpQkFBaUI7b0JBQ3BCLE1BQU0sSUFBSUosTUFBTTtnQkFDbEI7Z0JBRUEsT0FBTztvQkFDTEssSUFBSUosS0FBS0ksRUFBRTtvQkFDWFosTUFBTVEsS0FBS1IsSUFBSTtvQkFDZkUsT0FBT00sS0FBS04sS0FBSztvQkFDakJXLE1BQU1MLEtBQUtLLElBQUk7Z0JBQ2pCO1lBQ0Y7UUFDRjtLQUNEO0lBQ0RDLE9BQU87UUFDTEMsUUFBUTtJQUNWO0lBQ0FDLFdBQVc7UUFDVCxNQUFNQyxLQUFJLEVBQUVDLEtBQUssRUFBRVYsSUFBSSxFQUFFO1lBQ3ZCLElBQUlBLE1BQU07Z0JBQ1JVLE1BQU1MLElBQUksR0FBR0wsS0FBS0ssSUFBSTtnQkFDdEJLLE1BQU1OLEVBQUUsR0FBR0osS0FBS0ksRUFBRTtZQUNwQjtZQUNBLE9BQU9NO1FBQ1Q7UUFDQSxNQUFNQyxTQUFRLEVBQUVBLE9BQU8sRUFBRUQsS0FBSyxFQUFnQztZQUM1RCxJQUFJQSxTQUFTQyxRQUFRWCxJQUFJLEVBQUU7Z0JBQ3pCVyxRQUFRWCxJQUFJLENBQUNLLElBQUksR0FBR0ssTUFBTUwsSUFBSTtnQkFDOUJNLFFBQVFYLElBQUksQ0FBQ0ksRUFBRSxHQUFHTSxNQUFNTixFQUFFO1lBQzVCO1lBQ0EsT0FBT087UUFDVDtJQUNGO0lBQ0FBLFNBQVM7UUFDUEMsVUFBVTtRQUNWQyxRQUFRLEtBQUssS0FBSyxLQUFLO0lBQ3pCO0lBQ0FDLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsZUFBZTtBQUNyQyxFQUFFO0FBRUYsTUFBTUMsVUFBVWhDLGdEQUFRQSxDQUFDSTtBQUVrQiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxmZWxjb25oYVxcRGVza3RvcFxcQWNhXFxzcmNcXGFwcFxcYXBpXFxhdXRoXFxbLi4ubmV4dGF1dGhdXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXV0aE9wdGlvbnMgfSBmcm9tICduZXh0LWF1dGgnO1xyXG5pbXBvcnQgTmV4dEF1dGggZnJvbSAnbmV4dC1hdXRoJztcclxuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFscyc7XHJcbmltcG9ydCB7IGNvbXBhcmUgfSBmcm9tICdiY3J5cHRqcyc7XHJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJ0AvbGliL3ByaXNtYSc7XHJcblxyXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcclxuICBwcm92aWRlcnM6IFtcclxuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xyXG4gICAgICBuYW1lOiAnQ3JlZGVudGlhbHMnLFxyXG4gICAgICBjcmVkZW50aWFsczoge1xyXG4gICAgICAgIGVtYWlsOiB7IGxhYmVsOiAnRW1haWwnLCB0eXBlOiAnZW1haWwnIH0sXHJcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6ICdTZW5oYScsIHR5cGU6ICdwYXNzd29yZCcgfVxyXG4gICAgICB9LFxyXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcclxuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtYWlsIGUgc2VuaGEgc8OjbyBvYnJpZ2F0w7NyaW9zJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgICB3aGVyZTogeyBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVXN1w6FyaW8gbsOjbyBlbmNvbnRyYWRvJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBjb21wYXJlKGNyZWRlbnRpYWxzLnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcclxuXHJcbiAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2VuaGEgaW5jb3JyZXRhJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgIHJvbGU6IHVzZXIucm9sZSxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIF0sXHJcbiAgcGFnZXM6IHtcclxuICAgIHNpZ25JbjogJy9sb2dpbicsXHJcbiAgfSxcclxuICBjYWxsYmFja3M6IHtcclxuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyIH0pIHtcclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICB0b2tlbi5yb2xlID0gdXNlci5yb2xlO1xyXG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdG9rZW47XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH06IHsgc2Vzc2lvbjogYW55OyB0b2tlbjogYW55IH0pIHtcclxuICAgICAgaWYgKHRva2VuICYmIHNlc3Npb24udXNlcikge1xyXG4gICAgICAgIHNlc3Npb24udXNlci5yb2xlID0gdG9rZW4ucm9sZTtcclxuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi5pZDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gc2Vzc2lvbjtcclxuICAgIH1cclxuICB9LFxyXG4gIHNlc3Npb246IHtcclxuICAgIHN0cmF0ZWd5OiAnand0JyxcclxuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRpYXNcclxuICB9LFxyXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlciA9IE5leHRBdXRoKGF1dGhPcHRpb25zKTtcclxuXHJcbmV4cG9ydCB7IGhhbmRsZXIgYXMgR0VULCBoYW5kbGVyIGFzIFBPU1QgfTsgIl0sIm5hbWVzIjpbIk5leHRBdXRoIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsImNvbXBhcmUiLCJwcmlzbWEiLCJhdXRoT3B0aW9ucyIsInByb3ZpZGVycyIsIm5hbWUiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJFcnJvciIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpc1Bhc3N3b3JkVmFsaWQiLCJpZCIsInJvbGUiLCJwYWdlcyIsInNpZ25JbiIsImNhbGxiYWNrcyIsImp3dCIsInRva2VuIiwic2Vzc2lvbiIsInN0cmF0ZWd5IiwibWF4QWdlIiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIk5FWFRBVVRIX1NFQ1JFVCIsImhhbmRsZXIiLCJHRVQiLCJQT1NUIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/photos/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/photos/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _auth_nextauth_route__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth/[...nextauth]/route */ \"(rsc)/./src/app/api/auth/[...nextauth]/route.ts\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n\n\n\n\n\n\n\n\nasync function POST(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_auth_nextauth_route__WEBPACK_IMPORTED_MODULE_3__.authOptions);\n        console.log('Session in POST photos:', session);\n        if (!session?.user?.id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Não autorizado'\n            }, {\n                status: 401\n            });\n        }\n        const formData = await request.formData();\n        const file = formData.get('file');\n        const angle = formData.get('angle');\n        const date = formData.get('date');\n        if (!file || !angle || !date) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Arquivo, ângulo e data são obrigatórios'\n            }, {\n                status: 400\n            });\n        }\n        // Gera um nome único para o arquivo\n        const fileExtension = file.name.split('.').pop();\n        const fileName = `${(0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()}.${fileExtension}`;\n        // Define o caminho para salvar o arquivo\n        const uploadDir = (0,path__WEBPACK_IMPORTED_MODULE_5__.join)(process.cwd(), 'public', 'uploads');\n        const filePath = (0,path__WEBPACK_IMPORTED_MODULE_5__.join)(uploadDir, fileName);\n        // Converte o arquivo para buffer e salva\n        const bytes = await file.arrayBuffer();\n        const buffer = Buffer.from(bytes);\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_4__.writeFile)(filePath, buffer);\n        // Salva a referência no banco de dados\n        const photo = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.photo.create({\n            data: {\n                userId: session.user.id,\n                url: `/uploads/${fileName}`,\n                angle,\n                date: new Date(date)\n            }\n        });\n        console.log('Foto criada:', photo);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(photo);\n    } catch (error) {\n        console.error('Erro ao criar foto:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Erro ao criar foto',\n            details: error instanceof Error ? error.message : 'Erro desconhecido'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_auth_nextauth_route__WEBPACK_IMPORTED_MODULE_3__.authOptions);\n        console.log('Session in GET photos:', session);\n        if (!session?.user?.id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Não autorizado'\n            }, {\n                status: 401\n            });\n        }\n        const photos = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.photo.findMany({\n            where: {\n                userId: session.user.id\n            },\n            orderBy: {\n                date: 'desc'\n            }\n        });\n        console.log('Fotos encontradas:', photos);\n        // Formata as datas antes de retornar\n        const formattedPhotos = photos.map((photo)=>({\n                ...photo,\n                date: photo.date.toISOString()\n            }));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(formattedPhotos);\n    } catch (error) {\n        console.error('Erro ao buscar fotos:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Erro ao buscar fotos',\n            details: error instanceof Error ? error.message : 'Erro desconhecido'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_auth_nextauth_route__WEBPACK_IMPORTED_MODULE_3__.authOptions);\n        console.log('Session in DELETE photos:', session);\n        if (!session?.user?.id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Não autorizado'\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const id = searchParams.get('id');\n        if (!id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'ID da foto é obrigatório'\n            }, {\n                status: 400\n            });\n        }\n        // Verifica se a foto pertence ao usuário\n        const existingPhoto = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.photo.findFirst({\n            where: {\n                id,\n                userId: session.user.id\n            }\n        });\n        if (!existingPhoto) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Foto não encontrada'\n            }, {\n                status: 404\n            });\n        }\n        // Remove o arquivo físico\n        const filePath = (0,path__WEBPACK_IMPORTED_MODULE_5__.join)(process.cwd(), 'public', existingPhoto.url);\n        try {\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_4__.unlink)(filePath);\n        } catch (error) {\n            console.error('Erro ao remover arquivo físico:', error);\n        }\n        // Remove do banco de dados\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.photo.delete({\n            where: {\n                id\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: 'Foto excluída com sucesso'\n        });\n    } catch (error) {\n        console.error('Erro ao excluir foto:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Erro ao excluir foto',\n            details: error instanceof Error ? error.message : 'Erro desconhecido'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_auth_nextauth_route__WEBPACK_IMPORTED_MODULE_3__.authOptions);\n        console.log('Session in PUT photos:', session);\n        if (!session?.user?.id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Não autorizado'\n            }, {\n                status: 401\n            });\n        }\n        const formData = await request.formData();\n        const file = formData.get('file');\n        const angle = formData.get('angle');\n        const date = formData.get('date');\n        const id = formData.get('id');\n        if (!file || !angle || !date || !id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Arquivo, ângulo, data e id são obrigatórios'\n            }, {\n                status: 400\n            });\n        }\n        // Verifica se a foto pertence ao usuário\n        const existingPhoto = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.photo.findFirst({\n            where: {\n                id,\n                userId: session.user.id\n            }\n        });\n        if (!existingPhoto) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Foto não encontrada'\n            }, {\n                status: 404\n            });\n        }\n        // Remove o arquivo físico antigo\n        const oldFilePath = (0,path__WEBPACK_IMPORTED_MODULE_5__.join)(process.cwd(), 'public', existingPhoto.url);\n        try {\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_4__.unlink)(oldFilePath);\n        } catch (error) {\n            console.error('Erro ao remover arquivo antigo:', error);\n        }\n        // Gera um nome único para o novo arquivo\n        const fileExtension = file.name.split('.').pop();\n        const fileName = `${(0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()}.${fileExtension}`;\n        const uploadDir = (0,path__WEBPACK_IMPORTED_MODULE_5__.join)(process.cwd(), 'public', 'uploads');\n        const filePath = (0,path__WEBPACK_IMPORTED_MODULE_5__.join)(uploadDir, fileName);\n        // Converte o arquivo para buffer e salva\n        const bytes = await file.arrayBuffer();\n        const buffer = Buffer.from(bytes);\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_4__.writeFile)(filePath, buffer);\n        // Atualiza a referência no banco de dados\n        const updatedPhoto = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.photo.update({\n            where: {\n                id\n            },\n            data: {\n                url: `/uploads/${fileName}`,\n                angle,\n                date: new Date(date)\n            }\n        });\n        console.log('Foto atualizada:', updatedPhoto);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(updatedPhoto);\n    } catch (error) {\n        console.error('Erro ao atualizar foto:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Erro ao atualizar foto',\n            details: error instanceof Error ? error.message : 'Erro desconhecido'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUFBVTtRQUNoRCxNQUFNQyxXQUFXM0IsMENBQUlBLENBQUN3QixXQUFXRDtRQUVqQyx5Q0FBeUM7UUFDekMsTUFBTUssUUFBUSxNQUFNYixLQUFLYyxXQUFXO1FBQ3BDLE1BQU1DLFNBQVNDLE9BQU9DLElBQUksQ0FBQ0o7UUFDM0IsTUFBTTdCLHNEQUFTQSxDQUFDNEIsVUFBVUc7UUFFMUIsMENBQTBDO1FBQzFDLE1BQU00QixlQUFlLE1BQU03RCwrQ0FBTUEsQ0FBQ29DLEtBQUssQ0FBQzBCLE1BQU0sQ0FBQztZQUM3Q2QsT0FBTztnQkFBRW5DO1lBQUc7WUFDWnlCLE1BQU07Z0JBQ0pFLEtBQUssQ0FBQyxTQUFTLEVBQUVkLFVBQVU7Z0JBQzNCTjtnQkFDQUMsTUFBTSxJQUFJb0IsS0FBS3BCO1lBQ2pCO1FBQ0Y7UUFFQVgsUUFBUUMsR0FBRyxDQUFDLG9CQUFvQmtEO1FBRWhDLE9BQU8vRCxxREFBWUEsQ0FBQ2dCLElBQUksQ0FBQytDO0lBQzNCLEVBQUUsT0FBTzlDLE9BQU87UUFDZEwsUUFBUUssS0FBSyxDQUFDLDJCQUEyQkE7UUFDekMsT0FBT2pCLHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1lBQTBCMkIsU0FBUzNCLGlCQUFpQjRCLFFBQVE1QixNQUFNNkIsT0FBTyxHQUFHO1FBQW9CLEdBQ3pHO1lBQUU1QixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxmZWxjb25oYVxcRGVza3RvcFxcQWNhXFxzcmNcXGFwcFxcYXBpXFxwaG90b3NcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aCc7XHJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJ0AvbGliL3ByaXNtYSc7XHJcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSAnLi4vYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlJztcclxuaW1wb3J0IHsgd3JpdGVGaWxlIH0gZnJvbSAnZnMvcHJvbWlzZXMnO1xyXG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XHJcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xyXG5pbXBvcnQgeyB1bmxpbmsgfSBmcm9tICdmcy9wcm9taXNlcyc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcclxuICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIGluIFBPU1QgcGhvdG9zOicsIHNlc3Npb24pO1xyXG5cclxuICAgIGlmICghc2Vzc2lvbj8udXNlcj8uaWQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdOw6NvIGF1dG9yaXphZG8nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZm9ybURhdGEgPSBhd2FpdCByZXF1ZXN0LmZvcm1EYXRhKCk7XHJcbiAgICBjb25zdCBmaWxlID0gZm9ybURhdGEuZ2V0KCdmaWxlJykgYXMgRmlsZTtcclxuICAgIGNvbnN0IGFuZ2xlID0gZm9ybURhdGEuZ2V0KCdhbmdsZScpIGFzIHN0cmluZztcclxuICAgIGNvbnN0IGRhdGUgPSBmb3JtRGF0YS5nZXQoJ2RhdGUnKSBhcyBzdHJpbmc7XHJcblxyXG4gICAgaWYgKCFmaWxlIHx8ICFhbmdsZSB8fCAhZGF0ZSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0FycXVpdm8sIMOibmd1bG8gZSBkYXRhIHPDo28gb2JyaWdhdMOzcmlvcycgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXJhIHVtIG5vbWUgw7puaWNvIHBhcmEgbyBhcnF1aXZvXHJcbiAgICBjb25zdCBmaWxlRXh0ZW5zaW9uID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKCk7XHJcbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke3V1aWR2NCgpfS4ke2ZpbGVFeHRlbnNpb259YDtcclxuICAgIFxyXG4gICAgLy8gRGVmaW5lIG8gY2FtaW5obyBwYXJhIHNhbHZhciBvIGFycXVpdm9cclxuICAgIGNvbnN0IHVwbG9hZERpciA9IGpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsICd1cGxvYWRzJyk7XHJcbiAgICBjb25zdCBmaWxlUGF0aCA9IGpvaW4odXBsb2FkRGlyLCBmaWxlTmFtZSk7XHJcblxyXG4gICAgLy8gQ29udmVydGUgbyBhcnF1aXZvIHBhcmEgYnVmZmVyIGUgc2FsdmFcclxuICAgIGNvbnN0IGJ5dGVzID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpO1xyXG4gICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmZyb20oYnl0ZXMpO1xyXG4gICAgYXdhaXQgd3JpdGVGaWxlKGZpbGVQYXRoLCBidWZmZXIpO1xyXG5cclxuICAgIC8vIFNhbHZhIGEgcmVmZXLDqm5jaWEgbm8gYmFuY28gZGUgZGFkb3NcclxuICAgIGNvbnN0IHBob3RvID0gYXdhaXQgcHJpc21hLnBob3RvLmNyZWF0ZSh7XHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICB1c2VySWQ6IHNlc3Npb24udXNlci5pZCxcclxuICAgICAgICB1cmw6IGAvdXBsb2Fkcy8ke2ZpbGVOYW1lfWAsXHJcbiAgICAgICAgYW5nbGUsXHJcbiAgICAgICAgZGF0ZTogbmV3IERhdGUoZGF0ZSksXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnRm90byBjcmlhZGE6JywgcGhvdG8pO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihwaG90byk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gY3JpYXIgZm90bzonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdFcnJvIGFvIGNyaWFyIGZvdG8nLCBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdFcnJvIGRlc2NvbmhlY2lkbycgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcclxuICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIGluIEdFVCBwaG90b3M6Jywgc2Vzc2lvbik7XHJcblxyXG4gICAgaWYgKCFzZXNzaW9uPy51c2VyPy5pZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ07Do28gYXV0b3JpemFkbycgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAxIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwaG90b3MgPSBhd2FpdCBwcmlzbWEucGhvdG8uZmluZE1hbnkoe1xyXG4gICAgICB3aGVyZTogeyB1c2VySWQ6IHNlc3Npb24udXNlci5pZCB9LFxyXG4gICAgICBvcmRlckJ5OiB7IGRhdGU6ICdkZXNjJyB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0ZvdG9zIGVuY29udHJhZGFzOicsIHBob3Rvcyk7XHJcblxyXG4gICAgLy8gRm9ybWF0YSBhcyBkYXRhcyBhbnRlcyBkZSByZXRvcm5hclxyXG4gICAgY29uc3QgZm9ybWF0dGVkUGhvdG9zID0gcGhvdG9zLm1hcChwaG90byA9PiAoe1xyXG4gICAgICAuLi5waG90byxcclxuICAgICAgZGF0ZTogcGhvdG8uZGF0ZS50b0lTT1N0cmluZygpLFxyXG4gICAgfSkpO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihmb3JtYXR0ZWRQaG90b3MpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGJ1c2NhciBmb3RvczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdFcnJvIGFvIGJ1c2NhciBmb3RvcycsIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0Vycm8gZGVzY29uaGVjaWRvJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xyXG4gICAgY29uc29sZS5sb2coJ1Nlc3Npb24gaW4gREVMRVRFIHBob3RvczonLCBzZXNzaW9uKTtcclxuXHJcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmlkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnTsOjbyBhdXRvcml6YWRvJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcclxuICAgIGNvbnN0IGlkID0gc2VhcmNoUGFyYW1zLmdldCgnaWQnKTtcclxuXHJcbiAgICBpZiAoIWlkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnSUQgZGEgZm90byDDqSBvYnJpZ2F0w7NyaW8nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZpY2Egc2UgYSBmb3RvIHBlcnRlbmNlIGFvIHVzdcOhcmlvXHJcbiAgICBjb25zdCBleGlzdGluZ1Bob3RvID0gYXdhaXQgcHJpc21hLnBob3RvLmZpbmRGaXJzdCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgdXNlcklkOiBzZXNzaW9uLnVzZXIuaWQsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIWV4aXN0aW5nUGhvdG8pIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdGb3RvIG7Do28gZW5jb250cmFkYScgfSxcclxuICAgICAgICB7IHN0YXR1czogNDA0IH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgbyBhcnF1aXZvIGbDrXNpY29cclxuICAgIGNvbnN0IGZpbGVQYXRoID0gam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgZXhpc3RpbmdQaG90by51cmwpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdW5saW5rKGZpbGVQYXRoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gcmVtb3ZlciBhcnF1aXZvIGbDrXNpY286JywgZXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSBkbyBiYW5jbyBkZSBkYWRvc1xyXG4gICAgYXdhaXQgcHJpc21hLnBob3RvLmRlbGV0ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnRm90byBleGNsdcOtZGEgY29tIHN1Y2Vzc28nIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGV4Y2x1aXIgZm90bzonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdFcnJvIGFvIGV4Y2x1aXIgZm90bycsIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0Vycm8gZGVzY29uaGVjaWRvJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xyXG4gICAgY29uc29sZS5sb2coJ1Nlc3Npb24gaW4gUFVUIHBob3RvczonLCBzZXNzaW9uKTtcclxuXHJcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmlkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnTsOjbyBhdXRvcml6YWRvJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpO1xyXG4gICAgY29uc3QgZmlsZSA9IGZvcm1EYXRhLmdldCgnZmlsZScpIGFzIEZpbGU7XHJcbiAgICBjb25zdCBhbmdsZSA9IGZvcm1EYXRhLmdldCgnYW5nbGUnKSBhcyBzdHJpbmc7XHJcbiAgICBjb25zdCBkYXRlID0gZm9ybURhdGEuZ2V0KCdkYXRlJykgYXMgc3RyaW5nO1xyXG4gICAgY29uc3QgaWQgPSBmb3JtRGF0YS5nZXQoJ2lkJykgYXMgc3RyaW5nO1xyXG5cclxuICAgIGlmICghZmlsZSB8fCAhYW5nbGUgfHwgIWRhdGUgfHwgIWlkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnQXJxdWl2bywgw6JuZ3VsbywgZGF0YSBlIGlkIHPDo28gb2JyaWdhdMOzcmlvcycgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWZXJpZmljYSBzZSBhIGZvdG8gcGVydGVuY2UgYW8gdXN1w6FyaW9cclxuICAgIGNvbnN0IGV4aXN0aW5nUGhvdG8gPSBhd2FpdCBwcmlzbWEucGhvdG8uZmluZEZpcnN0KHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICBpZCxcclxuICAgICAgICB1c2VySWQ6IHNlc3Npb24udXNlci5pZCxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghZXhpc3RpbmdQaG90bykge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0ZvdG8gbsOjbyBlbmNvbnRyYWRhJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSBvIGFycXVpdm8gZsOtc2ljbyBhbnRpZ29cclxuICAgIGNvbnN0IG9sZEZpbGVQYXRoID0gam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgZXhpc3RpbmdQaG90by51cmwpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdW5saW5rKG9sZEZpbGVQYXRoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gcmVtb3ZlciBhcnF1aXZvIGFudGlnbzonLCBlcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VyYSB1bSBub21lIMO6bmljbyBwYXJhIG8gbm92byBhcnF1aXZvXHJcbiAgICBjb25zdCBmaWxlRXh0ZW5zaW9uID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKCk7XHJcbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke3V1aWR2NCgpfS4ke2ZpbGVFeHRlbnNpb259YDtcclxuICAgIGNvbnN0IHVwbG9hZERpciA9IGpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsICd1cGxvYWRzJyk7XHJcbiAgICBjb25zdCBmaWxlUGF0aCA9IGpvaW4odXBsb2FkRGlyLCBmaWxlTmFtZSk7XHJcblxyXG4gICAgLy8gQ29udmVydGUgbyBhcnF1aXZvIHBhcmEgYnVmZmVyIGUgc2FsdmFcclxuICAgIGNvbnN0IGJ5dGVzID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpO1xyXG4gICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmZyb20oYnl0ZXMpO1xyXG4gICAgYXdhaXQgd3JpdGVGaWxlKGZpbGVQYXRoLCBidWZmZXIpO1xyXG5cclxuICAgIC8vIEF0dWFsaXphIGEgcmVmZXLDqm5jaWEgbm8gYmFuY28gZGUgZGFkb3NcclxuICAgIGNvbnN0IHVwZGF0ZWRQaG90byA9IGF3YWl0IHByaXNtYS5waG90by51cGRhdGUoe1xyXG4gICAgICB3aGVyZTogeyBpZCB9LFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgdXJsOiBgL3VwbG9hZHMvJHtmaWxlTmFtZX1gLFxyXG4gICAgICAgIGFuZ2xlLFxyXG4gICAgICAgIGRhdGU6IG5ldyBEYXRlKGRhdGUpLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0ZvdG8gYXR1YWxpemFkYTonLCB1cGRhdGVkUGhvdG8pO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih1cGRhdGVkUGhvdG8pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGF0dWFsaXphciBmb3RvOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0Vycm8gYW8gYXR1YWxpemFyIGZvdG8nLCBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdFcnJvIGRlc2NvbmhlY2lkbycgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0U2VydmVyU2Vzc2lvbiIsInByaXNtYSIsImF1dGhPcHRpb25zIiwid3JpdGVGaWxlIiwiam9pbiIsInY0IiwidXVpZHY0IiwidW5saW5rIiwiUE9TVCIsInJlcXVlc3QiLCJzZXNzaW9uIiwiY29uc29sZSIsImxvZyIsInVzZXIiLCJpZCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImZvcm1EYXRhIiwiZmlsZSIsImdldCIsImFuZ2xlIiwiZGF0ZSIsImZpbGVFeHRlbnNpb24iLCJuYW1lIiwic3BsaXQiLCJwb3AiLCJmaWxlTmFtZSIsInVwbG9hZERpciIsInByb2Nlc3MiLCJjd2QiLCJmaWxlUGF0aCIsImJ5dGVzIiwiYXJyYXlCdWZmZXIiLCJidWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwicGhvdG8iLCJjcmVhdGUiLCJkYXRhIiwidXNlcklkIiwidXJsIiwiRGF0ZSIsImRldGFpbHMiLCJFcnJvciIsIm1lc3NhZ2UiLCJHRVQiLCJwaG90b3MiLCJmaW5kTWFueSIsIndoZXJlIiwib3JkZXJCeSIsImZvcm1hdHRlZFBob3RvcyIsIm1hcCIsInRvSVNPU3RyaW5nIiwiREVMRVRFIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwiZXhpc3RpbmdQaG90byIsImZpbmRGaXJzdCIsImRlbGV0ZSIsIlBVVCIsIm9sZEZpbGVQYXRoIiwidXBkYXRlZFBob3RvIiwidXBkYXRlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/photos/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = global;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: [\n        'query'\n    ]\n});\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFFOUMsTUFBTUMsa0JBQWtCQztBQUVqQixNQUFNQyxTQUNYRixnQkFBZ0JFLE1BQU0sSUFDdEIsSUFBSUgsd0RBQVlBLENBQUM7SUFDZkksS0FBSztRQUFDO0tBQVE7QUFDaEIsR0FBRztBQUVMLElBQUlDLElBQXFDLEVBQUVKLGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxmZWxjb25oYVxcRGVza3RvcFxcQWNhXFxzcmNcXGxpYlxccHJpc21hLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcclxuXHJcbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbCBhcyB1bmtub3duIGFzIHsgcHJpc21hOiBQcmlzbWFDbGllbnQgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcmlzbWEgPVxyXG4gIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgfHxcclxuICBuZXcgUHJpc21hQ2xpZW50KHtcclxuICAgIGxvZzogWydxdWVyeSddLFxyXG4gIH0pO1xyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWE7ICJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWwiLCJwcmlzbWEiLCJsb2ciLCJwcm9jZXNzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/bcryptjs","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva","vendor-chunks/uuid"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fphotos%2Froute&page=%2Fapi%2Fphotos%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fphotos%2Froute.ts&appDir=C%3A%5CUsers%5Cfelconha%5CDesktop%5CAca%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cfelconha%5CDesktop%5CAca&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();